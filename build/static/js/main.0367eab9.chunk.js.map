{"version":3,"sources":["components/Numbers.js","components/Filter.js","services/persons.js","components/Notification.js","App.js","index.js"],"names":["Person","_ref2","person","destroyPerson","react_default","a","createElement","name","number","onClick","id","personsToShow","state","persons","filter","toLocaleLowerCase","includes","Numbers","_ref","map","Numbers_Person","key","Filter","_this","this","value","props","onChange","event","handleFilter","React","Component","baseUrl","getAll","axios","get","create","newPerson","post","destroy","delete","concat","update","newNumber","put","Notification","message","className","App","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","handleNameChange","setState","newName","target","handleNumberChange","handleFilterChange","addPerson","preventDefault","updatePerson","personObject","personService","then","response","data","success","setTimeout","find","p","window","confirm","changedPerson","objectSpread","pers","catch","error","_this2","components_Notification","components_Filter","onSubmit","type","components_Numbers","ReactDOM","render","src_App","document","getElementById"],"mappings":"yOAeMA,EAAS,SAAAC,GAA+B,IAA5BC,EAA4BD,EAA5BC,OAAQC,EAAoBF,EAApBE,cACxB,OACEC,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAKJ,EAAOK,MACZH,EAAAC,EAAAC,cAAA,UAAKJ,EAAOM,QACZJ,EAAAC,EAAAC,cAAA,UACEF,EAAAC,EAAAC,cAAA,UAAQG,QAAU,kBAAMN,EAAcD,EAAOQ,MAA7C,aAQFC,EAAgB,SAACC,GACrB,OACEA,EAAMC,QAAQC,OAAO,SAAAZ,GACnB,OAAOA,EAAOK,KAAKQ,oBAAoBC,SAASJ,EAAME,WAK7CG,EAnCC,SAAAC,GAA8B,IAA3BN,EAA2BM,EAA3BN,MAAOT,EAAoBe,EAApBf,cACxB,OACEC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,qBACAF,EAAAC,EAAAC,cAAA,aACEF,EAAAC,EAAAC,cAAA,aACKK,EAAcC,GAAOO,IAAI,SAAAjB,GAAM,OAAIE,EAAAC,EAAAC,cAACc,EAAD,CAAQC,IAAKnB,EAAOK,KAAML,OAAQA,EAAQC,cAAeA,UCQ1FmB,mLAbJ,IAAAC,EAAAC,KACP,OACEpB,EAAAC,EAAAC,cAAA,wCAEEF,EAAAC,EAAAC,cAAA,SACEmB,MAAOD,KAAKE,MAAMZ,OAClBa,SAAW,SAAAC,GAAK,OAAIL,EAAKG,MAAMG,aAAaD,cAPjCE,IAAMC,2BCDrBC,EAAU,eAkBDnB,EAAA,CAAEoB,OAhBF,WACb,OAAOC,IAAMC,IAAIH,IAeMI,OAZV,SAACC,GACd,OAAOH,IAAMI,KAAKN,EAASK,IAWIE,QARjB,SAAC7B,GACf,OAAOwB,IAAMM,OAAN,GAAAC,OAAgBT,EAAhB,KAAAS,OAA2B/B,KAOOgC,OAJ5B,SAAChC,EAAIiC,GAClB,OAAOT,IAAMU,IAAN,GAAAH,OAAaT,EAAb,KAAAS,OAAwB/B,GAAMiC,KCHxBE,EAXM,SAAA3B,GAAiB,IAAd4B,EAAc5B,EAAd4B,QACtB,OAAgB,OAAZA,EACK,KAGP1C,EAAAC,EAAAC,cAAA,OAAKyC,UAAU,WACZD,ICiIQE,cAlIb,SAAAA,EAAYtB,GAAO,IAAAH,EAAA,OAAA0B,OAAAC,EAAA,EAAAD,CAAAzB,KAAAwB,IACjBzB,EAAA0B,OAAAE,EAAA,EAAAF,CAAAzB,KAAAyB,OAAAG,EAAA,EAAAH,CAAAD,GAAAK,KAAA7B,KAAME,KAkBR4B,iBAAmB,SAAC1B,GAClBL,EAAKgC,SAAS,CAACC,QAAS5B,EAAM6B,OAAOhC,SApBpBF,EAuBnBmC,mBAAqB,SAAC9B,GACpBL,EAAKgC,SAAS,CAACZ,UAAWf,EAAM6B,OAAOhC,SAxBtBF,EA2BnBoC,mBAAqB,SAAC/B,GACpBL,EAAKgC,SAAS,CAACzC,OAAQc,EAAM6B,OAAOhC,SA5BnBF,EA+BnBqC,UAAY,SAAChC,GAGX,GAFAA,EAAMiC,iBAEFtC,EAAKX,MAAMC,QAAQM,IAAI,SAAAjB,GAAM,OAAIA,EAAOK,OAAMS,SAASO,EAAKX,MAAM4C,SACpEjC,EAAKuC,mBADP,CAKA,IAAMC,EAAe,CACnBxD,KAAMgB,EAAKX,MAAM4C,QACjBhD,OAAQe,EAAKX,MAAM+B,WAGrBqB,EACG5B,OAAO2B,GACPE,KAAK,SAAAC,GACJ3C,EAAKgC,SAAS,CACZ1C,QAASU,EAAKX,MAAMC,QAAQ4B,OAAOyB,EAASC,MAC5CX,QAAS,GACTb,UAAW,KAEbpB,EAAKgC,SAAS,CAAEa,QAAO,GAAA3B,OAAKsB,EAAaxD,KAAlB,kCAE3B8D,WAAW,WACT9C,EAAKgC,SAAS,CAACa,QAAS,QACvB,OAxDc7C,EA2DnBpB,cAAgB,SAACO,GACf,IAAMH,EAAOgB,EAAKX,MAAMC,QAAQyD,KAAK,SAAAC,GAAC,OAAIA,EAAE7D,KAAOA,IAAIH,KACpDiE,OAAOC,QAAP,gBAAAhC,OAA+BlC,KAChCyD,EACGzB,QAAQ7B,GACRuD,KAAK,SAAAC,GACJ3C,EAAKgC,SAAS,CAAE1C,QAASU,EAAKX,MAAMC,QAAQC,OAAO,SAAAyD,GAAC,OAAIA,EAAE7D,KAAOA,MACjEa,EAAKgC,SAAS,CAAEa,QAAO,GAAA3B,OAAKlC,EAAL,iCAG7B8D,WAAW,WACT9C,EAAKgC,SAAS,CAACa,QAAS,QACvB,MAvEc7C,EA0EnBuC,aAAe,WACb,GAAIU,OAAOC,QAAP,GAAAhC,OAAkBlB,EAAKX,MAAM4C,QAA7B,0DAA8F,CAChG,IAAMtD,EAASqB,EAAKX,MAAMC,QAAQyD,KAAK,SAAApE,GAAM,OAAIA,EAAOK,OAASgB,EAAKX,MAAM4C,UACtEkB,EAAazB,OAAA0B,EAAA,EAAA1B,CAAA,GAAQ/C,EAAR,CAAgBM,OAAQe,EAAKX,MAAM+B,YAEtDqB,EACGtB,OAAOxC,EAAOQ,GAAIgE,GAClBT,KAAK,SAAAC,GACJ3C,EAAKgC,SAAS,CACZ1C,QAASU,EAAKX,MAAMC,QAAQM,IAAI,SAAAyD,GAAI,OAAIA,EAAKlE,KAAOR,EAAOQ,GAAKkE,EAAOF,MAEzEnD,EAAKgC,SAAS,CAAEa,QAAO,GAAA3B,OAAKvC,EAAOK,KAAZ,6CAExBsE,MAAM,SAAAC,GACLvD,EAAKqC,cAGXS,WAAW,WACT9C,EAAKgC,SAAS,CAACa,QAAS,QACvB,MA3FH7C,EAAKX,MAAQ,CACXC,QAAS,GACT2C,QAAS,GACTb,UAAW,GACX7B,OAAQ,GACRsD,QAAS,MAPM7C,mFAWC,IAAAwD,EAAAvD,KAClBwC,EACG/B,SACAgC,KAAK,SAAAC,GACJa,EAAKxB,SAAS,CAAE1C,QAASqD,EAASC,0CAkFtC,OACE/D,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,6BACAF,EAAAC,EAAAC,cAAC0E,EAAD,CAAclC,QAAStB,KAAKZ,MAAMwD,UAClChE,EAAAC,EAAAC,cAAC2E,EAAD,CAAQnE,OAAQU,KAAKZ,MAAME,OAAQe,aAAcL,KAAKmC,qBACtDvD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,+BACAF,EAAAC,EAAAC,cAAA,QAAM4E,SAAU1D,KAAKoC,WACnBxD,EAAAC,EAAAC,cAAA,mBAEEF,EAAAC,EAAAC,cAAA,SACEmB,MAAOD,KAAKZ,MAAM4C,QAClB7B,SAAUH,KAAK8B,oBAGnBlD,EAAAC,EAAAC,cAAA,qBAEEF,EAAAC,EAAAC,cAAA,SACEmB,MAAOD,KAAKZ,MAAM+B,UAClBhB,SAAUH,KAAKkC,sBAGnBtD,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,UAAQ6E,KAAK,UAAb,kBAIN/E,EAAAC,EAAAC,cAAC8E,EAAD,CAASxE,MAAOY,KAAKZ,MAAOT,cAAeqB,KAAKrB,wBA7HtC2B,IAAMC,iBCDxBsD,IAASC,OACPlF,EAAAC,EAAAC,cAACiF,EAAD,MACAC,SAASC,eAAe","file":"static/js/main.0367eab9.chunk.js","sourcesContent":["import React from 'react'\n\nconst Numbers = ({ state, destroyPerson }) => {\n  return (\n    <div>\n      <h3>Numerot</h3>\n      <table>\n        <tbody>\n            {personsToShow(state).map(person => <Person key={person.name} person={person} destroyPerson={destroyPerson} />)}\n        </tbody>\n      </table>\n    </div>\n  )\n}\n\nconst Person = ({ person, destroyPerson }) => {\n  return (\n    <tr>\n      <td>{person.name}</td>\n      <td>{person.number}</td>\n      <td>\n        <button onClick={ () => destroyPerson(person.id) }>\n          poista\n        </button>\n      </td>\n    </tr>\n  )\n}\n\nconst personsToShow = (state) => {\n  return (\n    state.persons.filter(person => {\n      return person.name.toLocaleLowerCase().includes(state.filter)\n    })\n  )\n}\n\nexport default Numbers","import React from 'react'\n\nclass Filter extends React.Component {\n  render() {\n    return (\n      <div>\n        rajaa näytettäviä\n        <input\n          value={this.props.filter}\n          onChange={ event => this.props.handleFilter(event) }\n        />\n      </div>\n    )\n  }\n}\n\nexport default Filter","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getAll = () => {\n  return axios.get(baseUrl)\n}\n\nconst create = (newPerson) => {\n  return axios.post(baseUrl, newPerson)\n}\n\nconst destroy = (id) => {\n  return axios.delete(`${baseUrl}/${id}`)\n}\n\nconst update = (id, newNumber) => {\n  return axios.put(`${baseUrl}/${id}`, newNumber)\n}\n\nexport default { getAll, create, destroy , update }","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className=\"success\">\n      {message}\n    </div>\n  )\n}\n\nexport default Notification","import React from 'react'\nimport Numbers from './components/Numbers'\nimport Filter from './components/Filter'\nimport personService from './services/persons'\nimport Notification from './components/Notification'\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props)\n    this.state = {\n      persons: [],\n      newName: '',\n      newNumber: '',\n      filter: '',\n      success: null\n    }\n  }\n\n  componentDidMount() {\n    personService\n      .getAll()\n      .then(response => {\n        this.setState({ persons: response.data })\n      })\n  }\n  \n  handleNameChange = (event) => {\n    this.setState({newName: event.target.value})\n  }\n\n  handleNumberChange = (event) => {\n    this.setState({newNumber: event.target.value})\n  }\n\n  handleFilterChange = (event) => {\n    this.setState({filter: event.target.value})\n  }\n\n  addPerson = (event) => {\n    event.preventDefault()\n    \n    if (this.state.persons.map(person => person.name).includes(this.state.newName)){\n      this.updatePerson()\n      return\n    }\n\n    const personObject = {\n      name: this.state.newName,\n      number: this.state.newNumber\n    }\n\n    personService\n      .create(personObject)\n      .then(response => {\n        this.setState({\n          persons: this.state.persons.concat(response.data),\n          newName: '',\n          newNumber: ''\n        })\n        this.setState({ success: `${personObject.name} onnistuneesti lisätty.` })\n      })\n    setTimeout(() => {\n      this.setState({success: null})\n    }, 5000)\n  }\n\n  destroyPerson = (id) => {\n    const name = this.state.persons.find(p => p.id === id).name\n    if(window.confirm(`Poistetaanko ${name}`)) {\n      personService\n        .destroy(id)\n        .then(response => {\n          this.setState({ persons: this.state.persons.filter(p => p.id !== id) })\n          this.setState({ success: `${name} onnistuneesti poistettu.` })\n        })\n    }\n    setTimeout(() => {\n      this.setState({success: null})\n    }, 5000)\n  }\n\n  updatePerson = () => {\n    if (window.confirm(`${this.state.newName} on jo luettelossa, korvataanko vanha numero uudella?`)) {\n      const person = this.state.persons.find(person => person.name === this.state.newName)\n      const changedPerson = { ...person, number: this.state.newNumber }\n\n      personService\n        .update(person.id, changedPerson)\n        .then(response => {\n          this.setState({\n            persons: this.state.persons.map(pers => pers.id !== person.id ? pers : changedPerson)\n          })\n          this.setState({ success: `${person.name}n numero onnistuneesti päivitetty.` })\n        })\n        .catch(error => {\n          this.addPerson()\n        })\n    }\n    setTimeout(() => {\n      this.setState({success: null})\n    }, 5000)\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Puhelinluettelo</h2>\n        <Notification message={this.state.success} />\n        <Filter filter={this.state.filter} handleFilter={this.handleFilterChange} />\n        <div>\n          <h3>Lisää uusi!</h3>\n          <form onSubmit={this.addPerson}>\n            <div>\n              nimi: \n              <input \n                value={this.state.newName}\n                onChange={this.handleNameChange}\n              />\n            </div>\n            <div>\n              numero:\n              <input \n                value={this.state.newNumber}\n                onChange={this.handleNumberChange}\n              />\n            </div>\n            <div>\n              <button type=\"submit\">lisää</button>\n            </div>\n          </form>\n        </div>\n        <Numbers state={this.state} destroyPerson={this.destroyPerson} />\n      </div>\n    )\n  }\n}\n\nexport default App","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './App';\nimport './index.css'\n\nReactDOM.render(\n  <App />, \n  document.getElementById('root')\n);\n"],"sourceRoot":""}