(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{17:function(e,t,n){e.exports=n(43)},41:function(e,t,n){},43:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),s=n(15),u=n.n(s),o=n(16),c=n(3),l=n(4),i=n(6),m=n(5),d=n(7),f=function(e){var t=e.person,n=e.destroyPerson;return r.a.createElement("tr",null,r.a.createElement("td",null,t.name),r.a.createElement("td",null,t.number),r.a.createElement("td",null,r.a.createElement("button",{onClick:function(){return n(t.id)}},"poista")))},p=function(e){return e.persons.filter(function(t){return t.name.toLocaleLowerCase().includes(e.filter.toLocaleLowerCase())})},h=function(e){var t=e.state,n=e.destroyPerson;return r.a.createElement("div",null,r.a.createElement("h3",null,"Numerot"),r.a.createElement("table",null,r.a.createElement("tbody",null,p(t).map(function(e){return r.a.createElement(f,{key:e.name,person:e,destroyPerson:n})}))))},v=function(e){function t(){return Object(c.a)(this,t),Object(i.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(d.a)(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this;return r.a.createElement("div",null,"rajaa n\xe4ytett\xe4vi\xe4",r.a.createElement("input",{value:this.props.filter,onChange:function(t){return e.props.handleFilter(t)}}))}}]),t}(r.a.Component),b=n(2),E=n.n(b),w="/api/persons",N={getAll:function(){return E.a.get(w)},create:function(e){return E.a.post(w,e)},destroy:function(e){return E.a.delete("".concat(w,"/").concat(e))},update:function(e,t){return E.a.put("".concat(w,"/").concat(e),t)}},y=function(e){var t=e.message;return null===t?null:r.a.createElement("div",{className:"success"},t)},g=function(e){function t(e){var n;return Object(c.a)(this,t),(n=Object(i.a)(this,Object(m.a)(t).call(this,e))).handleNameChange=function(e){n.setState({newName:e.target.value})},n.handleNumberChange=function(e){n.setState({newNumber:e.target.value})},n.handleFilterChange=function(e){n.setState({filter:e.target.value})},n.addPerson=function(e){if(e.preventDefault(),n.state.persons.map(function(e){return e.name}).includes(n.state.newName))n.updatePerson();else{var t={name:n.state.newName,number:n.state.newNumber};N.create(t).then(function(e){n.setState({persons:n.state.persons.concat(e.data),newName:"",newNumber:""}),n.setState({success:"".concat(t.name," onnistuneesti lis\xe4tty.")})}),setTimeout(function(){n.setState({success:null})},5e3)}},n.destroyPerson=function(e){var t=n.state.persons.find(function(t){return t.id===e}).name;window.confirm("Poistetaanko ".concat(t))&&N.destroy(e).then(function(a){n.setState({persons:n.state.persons.filter(function(t){return t.id!==e})}),n.setState({success:"".concat(t," onnistuneesti poistettu.")})}),setTimeout(function(){n.setState({success:null})},5e3)},n.updatePerson=function(){if(window.confirm("".concat(n.state.newName," on jo luettelossa, korvataanko vanha numero uudella?"))){var e=n.state.persons.find(function(e){return e.name===n.state.newName}),t=Object(o.a)({},e,{number:n.state.newNumber});N.update(e.id,t).then(function(a){n.setState({persons:n.state.persons.map(function(n){return n.id!==e.id?n:t})}),n.setState({success:"".concat(e.name,"n numero onnistuneesti p\xe4ivitetty."),newName:"",newNumber:""})}).catch(function(e){n.addPerson()})}setTimeout(function(){n.setState({success:null})},5e3)},n.state={persons:[],newName:"",newNumber:"",filter:"",success:null},n}return Object(d.a)(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){var e=this;N.getAll().then(function(t){e.setState({persons:t.data})})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("h2",null,"Puhelinluettelo"),r.a.createElement(y,{message:this.state.success}),r.a.createElement(v,{filter:this.state.filter,handleFilter:this.handleFilterChange}),r.a.createElement("div",null,r.a.createElement("h3",null,"Lis\xe4\xe4 uusi!"),r.a.createElement("form",{onSubmit:this.addPerson},r.a.createElement("div",null,"nimi:",r.a.createElement("input",{value:this.state.newName,onChange:this.handleNameChange})),r.a.createElement("div",null,"numero:",r.a.createElement("input",{value:this.state.newNumber,onChange:this.handleNumberChange})),r.a.createElement("div",null,r.a.createElement("button",{type:"submit"},"lis\xe4\xe4")))),r.a.createElement(h,{state:this.state,destroyPerson:this.destroyPerson}))}}]),t}(r.a.Component);n(41);u.a.render(r.a.createElement(g,null),document.getElementById("root"))}},[[17,2,1]]]);
//# sourceMappingURL=main.2b56b56d.chunk.js.map